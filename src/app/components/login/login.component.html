<div class="login-container">
  <!-- Background Animated -->
  <div class="background-animation">
    <div class="circle circle-1"></div>
    <div class="circle circle-2"></div>
    <div class="circle circle-3"></div>
  </div>

  <!-- Login Card -->
  <div class="login-card">
    <!-- Logo Section -->
    <div class="logo-section">
      <div class="logo-container">
        <img src="assets/images/logos/logoMaryedHotel.png" alt="Hostal Maryed" class="logo-image">
      </div>
      <h1 class="welcome-title">Bienvenido</h1>
    </div>

    <!-- Error Alert -->
    @if (error()) {
    <mat-card class="error-alert">
      <i class="fas fa-exclamation-circle"></i>
      <span>{{ error() }}</span>
      <button mat-icon-button class="close-btn" (click)="error.set(null)">
        <mat-icon>close</mat-icon>
      </button>
    </mat-card>
    }

    <!-- Login Form -->
    <form class="login-form" (ngSubmit)="onSubmit()">
      <!-- Username Field -->
      <div class="form-group">
        <label for="username" class="form-label">
          <i class="fas fa-user"></i>
          Usuario o Email
        </label>
        <div class="input-wrapper">
          <i class="fas fa-user input-icon"></i>
          <mat-form-field appearance="outline" class="form-input" floatLabel="always">
            <input matInput type="text" id="username" placeholder="Ingresa tu usuario" [value]="username()"
              (input)="username.set($any($event.target).value)" [disabled]="loading()" required />
          </mat-form-field>
        </div>
      </div>

      <!-- Password Field -->
      <div class="form-group">
        <label for="password" class="form-label">
          <i class="fas fa-lock"></i>
          Contraseña
        </label>
        <div class="input-wrapper">
          <i class="fas fa-lock input-icon"></i>
          <mat-form-field appearance="outline" class="form-input" floatLabel="always">
            <input matInput [type]="showPassword() ? 'text' : 'password'" id="password"
              placeholder="Ingresa tu contraseña" [value]="password()" (input)="password.set($any($event.target).value)"
              [disabled]="loading()" required />
            <button mat-icon-button matSuffix type="button" class="toggle-password" (click)="togglePasswordVisibility()"
              [disabled]="loading()">
              <mat-icon>{{ showPassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
          </mat-form-field>
        </div>
      </div>

      <!-- Remember Me & Forgot Password -->
      <div class="form-options">
        <mat-checkbox class="checkbox-label" [checked]="rememberMe()" (change)="rememberMe.set($any($event.checked))"
          [disabled]="loading()">
          Recordarme
        </mat-checkbox>

        <button mat-button type="button" class="forgot-link" (click)="onForgotPassword()" [disabled]="loading()">
          ¿Olvidaste tu contraseña?
        </button>
      </div>

      <!-- Submit Button -->
      <button mat-raised-button color="primary" type="submit" class="btn-submit" [disabled]="loading()">
        @if (loading()) {
        <ng-container>
          <span>Iniciando sesión...</span>
        </ng-container>
        } @else {
        <ng-container>
          <span>Iniciar Sesión</span>
        </ng-container>
        }
      </button>
    </form>

    <!-- Footer -->
    <div class="login-footer">
      <p>&copy; 2025 Hostal Maryed. Todos los derechos reservados.</p>
    </div>
  </div>

  <!-- Decoration Elements -->
  <div class="decoration-elements">
    <div class="hotel-icon icon-1">
      <i class="fas fa-hotel"></i>
    </div>
    <div class="hotel-icon icon-2">
      <i class="fas fa-key"></i>
    </div>
    <div class="hotel-icon icon-3">
      <i class="fas fa-bed"></i>
    </div>
  </div>
</div>