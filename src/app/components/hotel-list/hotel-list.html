<div class="container-fluid px-4 mt-4">
  <!-- Lista de Hoteles -->
  @if (!hotelSeleccionado()) {
<!-- Header Hostal Maryed -->
<div class="hotel-hero-section mb-5">
  <div class="row align-items-center">
    <div class="col-lg-8">
      <div class="hero-content">
        <!-- Logo MARYED HOSTAL -->
<div class="hotel-hero-section mb-5">
  <div class="row align-items-center">
    <div class="col-lg-8">
      <div class="hero-content">
        <!-- Logo como imagen -->
<div class="logo-container mb-4">
  <img src="assets/images/logos/logoHotel.png" 
       alt="Hostal Maryed" 
       class="hostal-logo-img">
</div>
        
        <p class="lead text-white-50 mb-4">Bienvenido a nuestro hostal, donde la comodidad y el buen servicio nos distinguen</p>
        <!-- resto del contenido -->
      </div>
    </div>
  </div>
</div>
        
        <p class="lead text-white-50 mb-4">Bienvenido a nuestro hostal, donde la comodidad y el buen servicio nos distinguen</p>
        <div class="hero-stats">
          <div class="stat-item">
            <span class="stat-number">{{ hoteles().length }}</span>
            <span class="stat-label">Sedes Disponibles</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">‚≠ê 4.5</span>
            <span class="stat-label">Rating Promedio</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">üèòÔ∏è 2</span>
            <span class="stat-label">Ubicaciones</span>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="hero-search">
        <div class="search-box">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-input" placeholder="Buscar sede...">
        </div>
        <button class="btn-refresh" (click)="recargarHoteles()" [disabled]="loading()">
          <i class="fas fa-sync-alt" [class.fa-spin]="loading()"></i>
        </button>
      </div>
    </div>
  </div>
</div>
    
    <!-- Loading State -->
    @if (loading()) {
      <div class="loading-container text-center py-6">
        <div class="loading-animation">
          <div class="hotel-loader">
            <div class="door"></div>
            <div class="key"></div>
          </div>
          <h4 class="text-primary mt-4">Cargando sedes...</h4>
          <p class="text-muted">Preparando la informaci√≥n de las sedes</p>
        </div>
      </div>
    }

    @if (error()) {
      <div class="error-banner alert alert-warning alert-dismissible fade show" role="alert">
        <div class="d-flex align-items-center">
          <i class="fas fa-exclamation-triangle me-3 fs-4"></i>
          <div class="flex-grow-1">
            <h5 class="alert-heading mb-1">‚ö†Ô∏è Atenci√≥n</h5>
            <p class="mb-0">{{ error() }}</p>
          </div>
          <button type="button" class="btn-close" (click)="error.set(null)"></button>
        </div>
      </div>
    }

    <!-- Grid de Sedes del Hostal -->
    <div class="row g-4">
      @for (hotel of hoteles(); track hotel.idHotel; let i = $index) {
        <div class="col-xxl-6 col-xl-6 col-lg-6">
          <div class="hotel-card-premium" [style.animation-delay]="i * 0.1 + 's'">
            <div class="hotel-card-header">
              <div class="hotel-badge premium">üìç {{ hotel.nombreHotel }}</div>
              <div class="hotel-actions">
                <button class="btn-favorite">
                  <i class="far fa-heart"></i>
                </button>
              </div>
            </div>
            
            <div class="hotel-card-body">
              <div class="hotel-avatar">
                {{ hotel.nombreHotel.charAt(0) }}
              </div>
              <h3 class="hotel-name">{{ hotel.nombreHotel }}</h3>
              
              <div class="hotel-info-grid">
                <div class="info-item">
                  <i class="fas fa-map-marker-alt icon-primary"></i>
                  <div class="info-content">
                    <span class="info-label">Ubicaci√≥n</span>
                    <span class="info-value">{{ hotel.direccion }}</span>
                  </div>
                </div>
                <div class="info-item">
                  <i class="fas fa-phone icon-primary"></i>
                  <div class="info-content">
                    <span class="info-label">Tel√©fono</span>
                    <span class="info-value">{{ hotel.telefono }}</span>
                  </div>
                </div>
                <div class="info-item">
                  <i class="fas fa-envelope icon-primary"></i>
                  <div class="info-content">
                    <span class="info-label">Email</span>
                    <span class="info-value">{{ hotel.email }}</span>
                  </div>
                </div>
              </div>

              <!-- Servicios del Hostal -->
              <div class="services-section">
                <h6 class="section-title">Servicios del Hostal</h6>
                <div class="services-grid">
                  <div class="service-item">
                    <i class="fas fa-wifi service-icon"></i>
                    <span>Wi-Fi Gratis</span>
                  </div>
                  <div class="service-item">
                    <i class="fas fa-utensils service-icon"></i>
                    <span>Desayuno</span>
                  </div>
                  <div class="service-item">
                    <i class="fas fa-concierge-bell service-icon"></i>
                    <span>Recepci√≥n 24h</span>
                  </div>
                  <div class="service-item">
                    <i class="fas fa-parking service-icon"></i>
                    <span>Estacionamiento</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="hotel-card-footer">
              <button 
                class="btn-explore"
                (click)="seleccionarHotel(hotel)">
                <span>Ver Habitaciones</span>
                <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>
        </div>
      } @empty {
        <div class="col-12">
          <div class="empty-state-premium text-center py-6">
            <div class="empty-illustration">
              <i class="fas fa-hotel"></i>
              <div class="empty-pulse"></div>
            </div>
            <h3 class="empty-title">No hay sedes disponibles</h3>
            <p class="empty-description">Parece que no tenemos sedes en este momento. Intenta actualizar la b√∫squeda.</p>
            <button class="btn btn-primary btn-lg mt-3" (click)="recargarHoteles()">
              <i class="fas fa-redo me-2"></i>Reintentar B√∫squeda
            </button>
          </div>
        </div>
      }
    </div>
  }

  <!-- Habitaciones del Hostal Seleccionado -->
  @if (hotelSeleccionado()) {
    <!-- Header de Habitaciones -->
    <div class="rooms-hero-section mb-5">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-md-8">
            <button class="btn-back" (click)="volverALista()">
              <i class="fas fa-arrow-left"></i>
              <span>Volver a Sedes</span>
            </button>
            <div class="hotel-title-section">
              <h1 class="hotel-main-title">{{ hotelSeleccionado()!.nombreHotel }}</h1>
              <p class="hotel-subtitle">
                <i class="fas fa-map-marker-alt me-2"></i>
                {{ hotelSeleccionado()!.direccion }}
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="rooms-stats-premium">
              <div class="stat-card available">
                <div class="stat-icon">
                  <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-content">
                  <span class="stat-number">{{ getHabitacionesDisponibles().length }}</span>
                  <span class="stat-label">Disponibles</span>
                </div>
              </div>
              <div class="stat-card occupied">
                <div class="stat-icon">
                  <i class="fas fa-times-circle"></i>
                </div>
                <div class="stat-content">
                  <span class="stat-number">{{ getHabitacionesOcupadas().length }}</span>
                  <span class="stat-label">Ocupadas</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Loading State para Habitaciones -->
    @if (loading()) {
      <div class="loading-rooms text-center py-5">
        <div class="room-loader">
          <div class="room-door"></div>
          <div class="room-key"></div>
        </div>
        <h4 class="text-primary mt-4">Cargando habitaciones...</h4>
        <p class="text-muted">Preparando la informaci√≥n de las habitaciones</p>
      </div>
    }

    @if (error()) {
      <div class="error-banner alert alert-warning alert-dismissible fade show" role="alert">
        <div class="d-flex align-items-center">
          <i class="fas fa-exclamation-triangle me-3 fs-4"></i>
          <div class="flex-grow-1">
            <h5 class="alert-heading mb-1">‚ö†Ô∏è Error al cargar</h5>
            <p class="mb-0">{{ error() }}</p>
          </div>
          <button type="button" class="btn-close" (click)="error.set(null)"></button>
        </div>
      </div>
    }

    <!-- Filtro por Tipo de Habitaci√≥n -->
    <div class="filter-section mb-4">
      <div class="filter-tabs">
        <button class="filter-tab active">TODAS</button>
        <button class="filter-tab">SUITE</button>
        <button class="filter-tab">MATRI</button>
        <button class="filter-tab">SIMPLE</button>
      </div>
    </div>

    <!-- Grid de Habitaciones -->
    <div class="rooms-grid-container">
      <!-- Habitaciones Disponibles -->
      <div class="rooms-section available-rooms">
        <div class="section-header-premium">
          <div class="section-title-wrapper">
            <i class="fas fa-check-circle section-icon success"></i>
            <div>
              <h3 class="section-title">Habitaciones Disponibles</h3>
              <p class="section-subtitle">{{ getHabitacionesDisponibles().length }} habitaciones listas para reservar</p>
            </div>
          </div>
          <span class="section-badge success">{{ getHabitacionesDisponibles().length }}</span>
        </div>

        <div class="rooms-scroll-container">
          @for (habitacion of getHabitacionesDisponibles(); track habitacion.idHabitacion; let i = $index) {
            <div class="room-card-premium available" [style.animation-delay]="i * 0.1 + 's'">
              <div class="room-card-header">
                <div class="room-number">
                  <span class="room-icon">üè®</span>
                  <h4>{{ habitacion.tipoHabitacion }} {{ habitacion.numeroHabitacion }}</h4>
                </div>
                <div class="room-status-badge available">
                  <i class="fas fa-check"></i>
                  Disponible
                </div>
              </div>
              
              <div class="room-card-body">
                <div class="room-features">
                  <span class="feature-tag">
                    <i class="fas fa-bed"></i>
                    {{ habitacion.tipoHabitacion }}
                  </span>
                  <span class="feature-tag">
                    <i class="fas fa-ruler-combined"></i>
                    25m¬≤
                  </span>
                  <span class="feature-tag">
                    <i class="fas fa-user-friends"></i>
                    {{ habitacion.tipoHabitacion === 'SIMPLE' ? '1 Persona' : '2 Personas' }}
                  </span>
                </div>
                
                <p class="room-description">{{ habitacion.descripcionHabitacion }}</p>
                
                <div class="room-amenities">
                  <div class="amenity">
                    <i class="fas fa-wifi"></i>
                    <span>Wi-Fi</span>
                  </div>
                  <div class="amenity">
                    <i class="fas fa-tv"></i>
                    <span>TV</span>
                  </div>
                  <div class="amenity">
                    <i class="fas fa-snowflake"></i>
                    <span>A/C</span>
                  </div>
                  <div class="amenity">
                    <i class="fas fa-bath"></i>
                    <span>Ba√±o</span>
                  </div>
                </div>
              </div>
              
              <div class="room-card-footer">
                <div class="room-price">
                  <span class="price-currency">$</span>
                  <span class="price-amount">{{ habitacion.tipoHabitacion === 'SUITE' ? '250' : habitacion.tipoHabitacion === 'MATRI' ? '150' : '100' }}</span>
                  <span class="price-period">/noche</span>
                </div>
                <div class="room-actions">
                  <button class="btn-reserve">
                    <i class="fas fa-calendar-check"></i>
                    Reservar Ahora
                  </button>
                  <button class="btn-details">
                    <i class="fas fa-expand"></i>
                  </button>
                </div>
              </div>
            </div>
          } @empty {
            <div class="empty-rooms-state">
              <div class="empty-rooms-illustration">
                <i class="fas fa-door-closed"></i>
              </div>
              <h4>No hay habitaciones disponibles</h4>
              <p>Todas las habitaciones est√°n ocupadas en este momento</p>
            </div>
          }
        </div>
      </div>

      <!-- Habitaciones Ocupadas/En Limpieza -->
      <div class="rooms-section occupied-rooms">
        <div class="section-header-premium">
          <div class="section-title-wrapper">
            <i class="fas fa-times-circle section-icon danger"></i>
            <div>
              <h3 class="section-title">Habitaciones No Disponibles</h3>
              <p class="section-subtitle">{{ getHabitacionesOcupadas().length }} habitaciones no disponibles</p>
            </div>
          </div>
          <span class="section-badge danger">{{ getHabitacionesOcupadas().length }}</span>
        </div>

        <div class="rooms-scroll-container">
          @for (habitacion of getHabitacionesOcupadas(); track habitacion.idHabitacion; let i = $index) {
            <div class="room-card-premium occupied" [style.animation-delay]="i * 0.1 + 's'">
              <div class="room-card-header">
                <div class="room-number">
                  <span class="room-icon">üö´</span>
                  <h4>{{ habitacion.tipoHabitacion }} {{ habitacion.numeroHabitacion }}</h4>
                </div>
                <div class="room-status-badge occupied">
                  <i class="fas fa-clock"></i>
                  {{ habitacion.estado === 'EN LIMPIEZA' ? 'En Limpieza' : 'Ocupada' }}
                </div>
              </div>
              
              <div class="room-card-body">
                <div class="room-features">
                  <span class="feature-tag">
                    <i class="fas fa-bed"></i>
                    {{ habitacion.tipoHabitacion }}
                  </span>
                  <span class="feature-tag">
                    <i class="fas fa-ruler-combined"></i>
                    25m¬≤
                  </span>
                  <span class="feature-tag">
                    <i class="fas fa-user-friends"></i>
                    {{ habitacion.tipoHabitacion === 'SIMPLE' ? '1 Persona' : '2 Personas' }}
                  </span>
                </div>
                
                <p class="room-description">{{ habitacion.descripcionHabitacion }}</p>
                
                @if (habitacion.estado === 'OCUPADA') {
                  <div class="occupancy-info">
                    <div class="occupancy-timeline">
                      <div class="timeline-item">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Check-in: Hoy</span>
                      </div>
                      <div class="timeline-item">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Check-out: 15/12/2024</span>
                      </div>
                    </div>
                  </div>
                } @else {
                  <div class="cleaning-info">
                    <div class="cleaning-status">
                      <i class="fas fa-broom"></i>
                      <span>En proceso de limpieza</span>
                    </div>
                    <div class="cleaning-time">
                      <i class="fas fa-clock"></i>
                      <span>Disponible en aproximadamente 2 horas</span>
                    </div>
                  </div>
                }
              </div>
              
              <div class="room-card-footer">
                @if (habitacion.estado === 'OCUPADA') {
                  <div class="occupied-message">
                    <i class="fas fa-info-circle"></i>
                    Disponible en 3 d√≠as
                  </div>
                  <button class="btn-notify">
                    <i class="fas fa-bell"></i>
                    Notificar
                  </button>
                } @else {
                  <div class="cleaning-message">
                    <i class="fas fa-info-circle"></i>
                    Disponible pronto
                  </div>
                  <button class="btn-notify">
                    <i class="fas fa-broom"></i>
                    Limpieza
                  </button>
                }
              </div>
            </div>
          } @empty {
            <div class="empty-rooms-state">
              <div class="empty-rooms-illustration">
                <i class="fas fa-door-open"></i>
              </div>
              <h4>No hay habitaciones ocupadas</h4>
              <p>Todas las habitaciones est√°n disponibles</p>
            </div>
          }
        </div>
      </div>
    </div>
  }
</div>